<!DOCTYPE html>
<html lang="zxx">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>emoji wildcard</title>
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      transition: background-color 0.3s, color 0.3s;
    }

    .emoji {
      font-size: 4rem;
      margin-bottom: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    button {
      background: #333;
      color: white;
      border: 1px solid transparent;
      padding: 10px 20px;
      margin: 5px;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
      touch-action: manipulation;
    }

    button:hover {
      background: #555;
    }

    svg {
      width: 1.5em;
      height: 1.5em;
      fill: currentColor;
    }

    /* --- light mode --- */
    @media (prefers-color-scheme: light) {
      body {
        background-color: #f4f4f4;
        color: #222;
      }

      button {
        background: #e0e0e0;
        color: #222;
        border-color: #ccc;
      }

      button:hover {
        background: #c7c7c7;
      }
    }
  </style>
</head>

<body>
  <div class="emoji" id="emojiDisplay">üçµ</div>
  <div>
    <button onclick="handleClick('today')">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path
          d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zm0 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0z" />
      </svg>
    </button>
    <button onclick="handleClick('any')">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path
          d="M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9S384 204.9 384 192l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8l-32.4 43.2-40-53.3 21.2-28.3C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM154 296l40 53.3-21.2 28.3C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L154 296zM438.6 470.6c-9.2 9.2-22.9 11.9-34.9 6.9S384 460.9 384 448l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32S14.3 96 32 96l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z" />
      </svg>
    </button>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
  <script>
    const emojiData = {
      "Animals & Nature": {
        "Mammals & Marsupials": ["üêµ", "üêí", "ü¶ç", "ü¶ß", "üê∂", "üêï", "ü¶Æ", "üêï‚Äçü¶∫", "üê©", "üê∫", "ü¶ä", "ü¶ù", "üê±", "üêà", "üêà‚Äç‚¨õ", "ü¶Å", "üêØ", "üêÖ", "üêÜ", "üê¥", "ü´é", "ü´è", "üêé", "ü¶Ñ", "ü¶ì", "ü¶å", "ü¶¨", "üêÆ", "üêÇ", "üêÉ", "üêÑ", "üê∑", "üêñ", "üêó", "üêΩ", "üêè", "üêë", "üêê", "üê™", "üê´", "ü¶ô", "ü¶í", "üêò", "ü¶£", "ü¶è", "ü¶õ", "üê≠", "üêÅ", "üêÄ", "üêπ", "üê∞", "üêá", "üêøÔ∏è", "ü¶´", "ü¶î", "ü¶á", "üêª", "üêª‚Äç‚ùÑÔ∏è", "üê®", "üêº", "ü¶•", "ü¶¶", "ü¶®", "ü¶ò", "ü¶°", "üêæ"],
        "Birds": ["ü¶É", "üêî", "üêì", "üê£", "üê§", "üê•", "üê¶", "üêß", "üïäÔ∏è", "ü¶Ö", "ü¶Ü", "ü¶¢", "ü¶â", "ü¶§", "ü™∂", "ü¶©", "ü¶ö", "ü¶ú", "ü™Ω", "üê¶‚Äç‚¨õ", "ü™ø", "üê¶‚Äçüî•", "ü™π", "ü™∫"],
        "Marine & Reptiles": ["üê∏", "üêä", "üê¢", "ü¶é", "üêç", "üê≤", "üêâ", "ü¶ï", "ü¶ñ", "üê≥", "üêã", "üê¨", "ü¶≠", "üêü", "üê†", "üê°", "ü¶à", "üêô", "üêö", "ü™∏", "ü™º", "ü¶Ä", "ü¶û", "ü¶ê", "ü¶ë", "ü¶™"],
        "Bugs": ["üêå", "ü¶ã", "üêõ", "üêú", "üêù", "ü™≤", "üêû", "ü¶ó", "ü™≥", "üï∑Ô∏è", "üï∏Ô∏è", "ü¶Ç", "ü¶ü", "ü™∞", "ü™±", "ü¶†"],
        "Plants, Flowers & Nature": ["üíê", "üå∏", "üíÆ", "ü™∑", "üèµÔ∏è", "üåπ", "ü•Ä", "üå∫", "üåª", "üåº", "üå∑", "ü™ª", "üå±", "ü™¥", "üå≤", "üå≥", "ü™æ", "üå¥", "üåµ", "üåæ", "üåø", "‚òòÔ∏è", "üçÄ", "üçÅ", "üçÇ", "üçÉ", "üçÑ", "ü™®", "ü™µ"],
        "Sky & Weather": ["üåë", "üåí", "üåì", "üåî", "üåï", "üåñ", "üåó", "üåò", "üåô", "üåö", "üåõ", "üåú", "‚òÄÔ∏è", "üåù", "üåû", "ü™ê", "‚≠ê", "üåü", "üå†", "üåå", "‚òÅÔ∏è", "‚õÖ", "‚õàÔ∏è", "üå§Ô∏è", "üå•Ô∏è", "üå¶Ô∏è", "üåßÔ∏è", "üå®Ô∏è", "üå©Ô∏è", "üå™Ô∏è", "üå´Ô∏è", "üå¨Ô∏è", "üåÄ", "üåà", "üåÇ", "‚òÇÔ∏è", "‚òî", "‚õ±Ô∏è", "‚ö°", "‚ùÑÔ∏è", "‚òÉÔ∏è", "‚õÑ", "‚òÑÔ∏è", "üî•", "üíß", "üåä"]
      },
      "Food & Drink": {
        "Fruits": ["üçá", "üçà", "üçâ", "üçä", "üçã", "üçã‚Äçüü©", "üçå", "üçç", "ü•≠", "üçé", "üçè", "üçê", "üçë", "üçí", "üçì", "ü´ê", "ü•ù", "üçÖ", "ü´í", "ü••"],
        "Vegetables": ["ü•ë", "üçÜ", "ü•î", "ü•ï", "üåΩ", "üå∂Ô∏è", "ü´ë", "ü•í", "ü•¨", "ü•¶", "üßÑ", "üßÖ", "ü•ú", "ü´ò", "üå∞", "ü´ö", "ü´õ", "ü´ú", "üçÑ‚Äçüü´"],
        "Prepared Foods": ["üçû", "ü•ê", "ü•ñ", "ü´ì", "ü•®", "ü•Ø", "ü•û", "üßá", "üßÄ", "üçñ", "üçó", "ü•©", "ü•ì", "üçî", "üçü", "üçï", "üå≠", "ü•™", "üåÆ", "üåØ", "ü´î", "ü•ô", "üßÜ", "ü•ö", "üç≥", "ü•ò", "üç≤", "ü´ï", "ü•£", "ü•ó", "üçø", "üßà", "üßÇ", "ü•´", "üçù"],
        "Asian Foods": ["üç±", "üçò", "üçô", "üçö", "üçõ", "üçú", "üç†", "üç¢", "üç£", "üç§", "üç•", "ü•Æ", "üç°", "ü•ü", "ü•†", "ü•°"],
        "Sweets & Desserts": ["üç¶", "üçß", "üç®", "üç©", "üç™", "üéÇ", "üç∞", "üßÅ", "ü•ß", "üç´", "üç¨", "üç≠", "üçÆ", "üçØ"],
        "Drinks & Dishware": ["üçº", "ü•õ", "‚òï", "ü´ñ", "üçµ", "üç∂", "üçæ", "üç∑", "üç∏", "üçπ", "üç∫", "üçª", "ü•Ç", "ü•É", "ü´ó", "ü•§", "üßã", "üßÉ", "üßâ", "ü•¢", "üçΩÔ∏è", "üç¥", "ü•Ñ", "üî™", "ü´ô", "üè∫"],
        "Events & Celebrations": ["üéÉ", "üéÑ", "üéÜ", "üéá", "üß®", "‚ú®", "üéà", "üéâ", "üéä", "üéã", "üéç", "üéé", "üéè", "üéê", "üéë", "üßß", "üéÅ", "üéüÔ∏è", "üé´", "üèÆ", "ü™î"],
        "Sports & Awards": ["üéñÔ∏è", "üèÜ", "üèÖ", "ü•á", "ü•à", "ü•â", "‚öΩ", "‚öæ", "ü•é", "üèÄ", "üèê", "üèà", "üèâ", "üéæ", "ü•è", "üé≥", "üèè", "üèë", "üèí", "ü•ç", "üèì", "üè∏", "ü•ä", "ü•ã", "ü•Ö", "‚õ≥", "‚õ∏Ô∏è", "üé£", "ü§ø", "üéΩ", "üéø", "üõ∑", "ü•å", "üéØ"],
        "Games & Culture": ["ü™Ä", "ü™Å", "üî´", "üé±", "üîÆ", "ü™Ñ", "üéÆ", "üïπÔ∏è", "üé∞", "üé≤", "üß©", "ü™Ö", "ü™©", "ü™Ü", "‚ô†Ô∏è", "‚ô•Ô∏è", "‚ô¶Ô∏è", "‚ô£Ô∏è", "‚ôüÔ∏è", "üÉè", "üÄÑ", "üé¥", "üé≠", "üñºÔ∏è", "üé®"]
      },
      "Travel & Places": {
        "Maps & Geography": ["üåç", "üåé", "üåè", "üåê", "üó∫Ô∏è", "üóæ", "üß≠", "üèîÔ∏è", "‚õ∞Ô∏è", "üåã", "üóª", "üèïÔ∏è", "üèñÔ∏è", "üèúÔ∏è", "üèùÔ∏è", "üèûÔ∏è"],
        "Buildings & Places": ["üèüÔ∏è", "üèõÔ∏è", "üèóÔ∏è", "üß±", "üõñ", "üèòÔ∏è", "üèöÔ∏è", "üè†", "üè°", "üè¢", "üè£", "üè§", "üè•", "üè¶", "üè®", "üè©", "üè™", "üè´", "üè¨", "üè≠", "üèØ", "üè∞", "üíí", "üóº", "üóΩ", "‚õ™", "üïå", "üõï", "üïç", "‚õ©Ô∏è", "üïã", "‚õ≤", "‚õ∫", "üåÅ", "üåÉ", "üèôÔ∏è", "üåÑ", "üåÖ", "üåÜ", "üåá", "üåâ", "‚ô®Ô∏è", "üé†", "üõù", "üé°", "üé¢", "üíà", "üé™", "üõéÔ∏è", "üóø"],
        "Land Travel": ["üöÇ", "üöÉ", "üöÑ", "üöÖ", "üöÜ", "üöá", "üöà", "üöâ", "üöä", "üöù", "üöû", "üöã", "üöå", "üöç", "üöé", "üöê", "üöë", "üöí", "üöì", "üöî", "üöï", "üöñ", "üöó", "üöò", "üöô", "üõª", "üöö", "üöõ", "üöú", "üèéÔ∏è", "üèçÔ∏è", "üõµ", "ü¶Ω", "ü¶º", "üõ∫", "üö≤", "üõ¥", "üõπ", "üõº", "üöè", "üõ£Ô∏è", "üõ§Ô∏è", "üõ¢Ô∏è", "‚õΩ", "üõû", "üö®", "üö•", "üö¶", "üõë", "üöß"],
        "Air & Sea Travel": ["‚öì", "üõü", "‚õµ", "üõ∂", "üö§", "üõ≥Ô∏è", "‚õ¥Ô∏è", "üõ•Ô∏è", "üö¢", "‚úàÔ∏è", "üõ©Ô∏è", "üõ´", "üõ¨", "ü™Ç", "üí∫", "üöÅ", "üöü", "üö†", "üö°", "üõ∞Ô∏è", "üöÄ", "üõ∏"]
      },
      "Object Emoji": {
        "Clothing & Appearance": ["üéÄ", "üéóÔ∏è", "üëì", "üï∂Ô∏è", "ü•Ω", "ü•º", "ü¶∫", "üëî", "üëï", "üëñ", "üß£", "üß§", "üß•", "üß¶", "üëó", "üëò", "ü•ª", "ü©±", "ü©≤", "ü©≥", "üëô", "üëö", "ü™≠", "üëõ", "üëú", "üëù", "üõçÔ∏è", "üéí", "ü©¥", "üëû", "üëü", "ü•æ", "ü•ø", "üë†", "üë°", "ü©∞", "üë¢", "ü™Æ", "üëë", "üëí", "üé©", "üéì", "üß¢", "ü™ñ", "‚õëÔ∏è", "üìø", "üíÑ", "üíç", "üíé", "ü¶Ø", "üßø"],
        "Music & Sound": ["üîá", "üîà", "üîâ", "üîä", "üì¢", "üì£", "üìØ", "üîî", "üîï", "üéº", "üéµ", "üé∂", "üéôÔ∏è", "üéöÔ∏è", "üéõÔ∏è", "üé§", "üéß", "üìª", "üé∑", "ü™ó", "üé∏", "üéπ", "üé∫", "üéª", "ü™ï", "ü•Å", "ü™ò", "ü™á", "ü™à", "ü™â"],
        "IT & AV": ["üì±", "üì≤", "‚òéÔ∏è", "üìû", "üìü", "üì†", "üîã", "ü™´", "üîå", "üíª", "üñ•Ô∏è", "üñ®Ô∏è", "‚å®Ô∏è", "üñ±Ô∏è", "üñ≤Ô∏è", "üíΩ", "üíæ", "üíø", "üìÄ", "üé•", "üéûÔ∏è", "üìΩÔ∏è", "üé¨", "üì∫", "üì∑", "üì∏", "üìπ", "üìº"],
        "Office & Stationery": ["üìî", "üìï", "üìñ", "üìó", "üìò", "üìô", "üìö", "üìì", "üìí", "üìÉ", "üìú", "üìÑ", "üì∞", "üóûÔ∏è", "üìë", "üîñ", "üè∑Ô∏è", "‚úâÔ∏è", "üìß", "üì®", "üì©", "üì§", "üì•", "üì¶", "üì´", "üì™", "üì¨", "üì≠", "üìÆ", "üó≥Ô∏è", "‚úèÔ∏è", "‚úíÔ∏è", "üñãÔ∏è", "üñäÔ∏è", "üñåÔ∏è", "üñçÔ∏è", "üìù", "üíº", "üìÅ", "üìÇ", "üóÇÔ∏è", "üìÖ", "üìÜ", "üóíÔ∏è", "üóìÔ∏è", "üìá", "üìà", "üìâ", "üìä", "üìã", "üìå", "üìç", "üìé", "üñáÔ∏è", "üìè", "üìê", "‚úÇÔ∏è", "üóÉÔ∏è", "üóÑÔ∏è", "üóëÔ∏è", "ü™™"],
        "Money & Time": ["‚åõ", "‚è≥", "‚åö", "‚è∞", "‚è±Ô∏è", "‚è≤Ô∏è", "üï∞Ô∏è", "üïõ", "üïß", "üïê", "üïú", "üïë", "üïù", "üïí", "üïû", "üïì", "üïü", "üïî", "üï†", "üïï", "üï°", "üïñ", "üï¢", "üïó", "üï£", "üïò", "üï§", "üïô", "üï•", "üïö", "üï¶", "üßÆ", "üí∞", "ü™ô", "üí¥", "üíµ", "üí∂", "üí∑", "üí∏", "üí≥", "üßæ", "üíπ"],
        "Tools, Household Items & Other": ["üß≥", "üå°Ô∏è", "üß∏", "üß∂", "ü™¢", "üîç", "üîé", "üïØÔ∏è", "üí°", "üî¶", "üîí", "üîì", "üîè", "üîê", "üîë", "üóùÔ∏è", "üî®", "ü™ì", "‚õèÔ∏è", "‚öíÔ∏è", "üõ†Ô∏è", "üó°Ô∏è", "‚öîÔ∏è", "üí£", "ü™É", "üèπ", "üõ°Ô∏è", "ü™ö", "üîß", "ü™õ", "üî©", "‚öôÔ∏è", "üóúÔ∏è", "‚öñÔ∏è", "üîó", "‚õìÔ∏è‚Äçüí•", "‚õìÔ∏è", "ü™ù", "üß∞", "üß≤", "ü™ú", "ü™è", "‚öóÔ∏è", "üß™", "üß´", "üî¨", "üî≠", "üì°", "üíâ", "ü©π", "ü©º", "ü©∫", "ü©ª", "üö™", "ü™û", "ü™ü", "üõèÔ∏è", "üõãÔ∏è", "ü™ë", "üöΩ", "ü™†", "üöø", "üõÅ", "ü™§", "ü™í", "üß¥", "üß∑", "üßπ", "üß∫", "üßª", "ü™£", "üßº", "ü´ß", "ü™•", "üßΩ", "üßØ", "üõí", "üö¨", "‚ö∞Ô∏è", "ü™¶", "‚ö±Ô∏è", "ü™ß"]
      }
    };

    function getAllEmojis(data) {
      let emojis = [];
      for (const key in data) {
        if (Array.isArray(data[key])) {
          emojis = emojis.concat(data[key]);
        } else if (typeof data[key] === 'object') {
          emojis = emojis.concat(getAllEmojis(data[key]));
        }
      }
      return emojis;
    }

    const allEmojis = getAllEmojis(emojiData);
    let currentCategory = null;
    let clickCount = 0;
    let lastClickTime = 0;
    let lastMode = '';
    let todayEmojiCache = [];

    function getCategory(emoji, data = emojiData, path = []) {
      for (const key in data) {
        if (Array.isArray(data[key]) && data[key].includes(emoji)) {
          return [...path, key].join(' > ');
        } else if (typeof data[key] === 'object') {
          const result = getCategory(emoji, data[key], [...path, key]);
          if (result) return result;
        }
      }
      return null;
    }

    function getEmojisInCategory(categoryPath, data = emojiData) {
      const pathParts = categoryPath.split(' > ');
      let current = data;

      for (const part of pathParts) {
        if (current[part]) {
          current = current[part];
        } else {
          return [];
        }
      }

      if (Array.isArray(current)) {
        return current;
      } else if (typeof current === 'object') {
        return getAllEmojis(current);
      }

      return [];
    }

    function getTodayIndex() {
      const today = new Date();
      const seed = today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
      const seedrnd = new Math.seedrandom(seed);
      return [
        Math.floor(seedrnd(seed) * allEmojis.length),
        Math.floor(seedrnd(seed) * allEmojis.length),
        Math.floor(seedrnd(seed) * allEmojis.length)
      ];
    }

    function handleClick(mode) {
      const now = Date.now();
      if (mode !== lastMode || now - lastClickTime > 300) {
        clickCount = 0;
        document.getElementById("emojiDisplay").textContent = '';
        if (mode === 'today') todayEmojiCache = [];
      }
      lastClickTime = now;
      lastMode = mode;

      const container = document.getElementById("emojiDisplay");
      const currentEmojis = Array.from(container.children).map(e => e.textContent);

      if (mode === 'today') {
        clickCount = Math.min(clickCount + 1, 3);
        if (todayEmojiCache.length === 0) {
          const indexes = getTodayIndex();
          todayEmojiCache.push(allEmojis[indexes[0]]);
          todayEmojiCache.push(allEmojis[(indexes[1]) % allEmojis.length]);
          todayEmojiCache.push(allEmojis[(indexes[2]) % allEmojis.length]);
        }
        displayEmojis(todayEmojiCache.slice(0, clickCount));
        if (clickCount > 0) {
          currentCategory = getCategory(todayEmojiCache[clickCount - 1]);
        }
      } else if (mode === 'same') {
        if (currentEmojis.length === 0) return;
        const lastEmoji = currentEmojis[currentEmojis.length - 1];
        currentCategory = getCategory(lastEmoji);
        if (!currentCategory) return;
        if (currentEmojis.length >= 3) return;

        const categoryEmojis = getEmojisInCategory(currentCategory);
        if (categoryEmojis.length === 0) return;

        const emoji = categoryEmojis[Math.floor(Math.random() * categoryEmojis.length)];
        appendEmoji(emoji);
        clickCount = currentEmojis.length + 1;
      } else if (mode === 'any') {
        if (currentEmojis.length >= 3) return;
        const emoji = allEmojis[Math.floor(Math.random() * allEmojis.length)];
        appendEmoji(emoji);
        currentCategory = getCategory(emoji);
        clickCount = currentEmojis.length + 1;
      }
    }

    function displayEmojis(list) {
      const container = document.getElementById("emojiDisplay");
      container.innerHTML = '';
      list.forEach(e => {
        const span = document.createElement('span');
        span.textContent = e;
        container.appendChild(span);
      });
    }

    function appendEmoji(e) {
      const container = document.getElementById("emojiDisplay");
      const span = document.createElement('span');
      span.textContent = e;
      container.appendChild(span);
    }

    showTodayEmoji();
    function showTodayEmoji() {
      handleClick('today');
      document.title = todayEmojiCache.length > 0 ? todayEmojiCache[0] : 'emoji wildcard';
    }
  </script>
</body>

</html>